<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" type="image/x-icon" href="/static/images/PersonIcon.png">
        <meta charset="utf-8">
        <style>
            *{
                margin:0;
                padding:0;
                font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            }
            .content{
                height: 100vh;
                width: 100vw;
                text-align: center;
                display: grid;
                grid-gap: 1vw;
                grid-template-areas: 
                "a b"
                "a c"
                "a d";
            }
            #sidemenu a:hover{
                background-color: gray;
            }
            #sidemenu{
                grid-area: a;
                background-color: #333;
                width: 24vw;
                height: 100%;
            }
            #sidemenu a{
                color: white;
                text-decoration: none;
                padding: 15px;
                display: block;
                text-align: center;
            }
            #maincontent{
                background-color: white;
                width: 80%;
                height: 90vh;
                float: right;
            }
            .footer{
                grid-area: d;
                background-color: white;
                color: black;
                width: 75vw;
                height:5vh;
                float:right;
                text-align: center;
            }
            #h1{
                grid-area: b;
                height: 10vh;
                width: 75vw;
                text-align: left;
                font-size: xxx-large;
                font-weight: bold;
                display: flex;
                align-items: center;
                color: rgb(0, 0, 0);

            }
            .information{
                grid-area: c;
                height:80vh;
                text-align: left;
                color: darkslateblue;
                padding-left: 10px;
                font-size: x-large;
            }
            .img{
                float:left;
                padding-right: 15px;
            }
            .imgright{
                float:right;
                padding-left: 15px;
                padding-right: 35px;
            }
            
        </style>
    </head>
    <body>
    <div class="content">
        <div id="sidemenu">
            <ul>
                <BR>
                {% if session.get('user') %}
                <li style="font-size: x-large; color: white;"> <a href="{{ url_for('logout') }}"> {{ session.get('user') }} <BR><BR> <img height="100px" src="/static/images/PersonIcon.png"> </a></li>
                {% else %}
                <li style="font-size: x-large; color: white;"> <a href="login"> Login <BR><BR> <img height="100px" src="/static/images/PersonIcon.png"> </a></li>
                {% endif %}
                {% if session.get('role') == 'faculty' %}
                <li> <a href="/new_account">New Account</a> </li>
                {% endif %}
                <li> <a href="/">Index</a> </li>
                <li> <a href="/faculty_update">Faculty Update</a> </li>
                <li> <a href="/student_edit" style="background-color: white; color:#333">Student Edit</a> </li>
            </ul>
        </div>

        <div id="h1">
            Student Edit
        </div>

        <div class="information">
            <div class="img">
                <body>
                    <h2>Your Profile</h2>
                    {% if student %}
                        <form method="post" action="{{ url_for('student_edit') }}">
                            <label>Name:</label>
                            <input name="name" value="{{ student['name'] or '' }}" />
                            <br />
                            <label>Address:</label>
                            <input name="address" value="{{ student['address'] or '' }}" />
                            <br />
                            <label>Phone:</label>
                            <input name="phone" value="{{ student['phone'] or '' }}" />
                            <br />
                            <button type="submit">Save</button>
                        </form>
                        <h3>Academic</h3>
                        <p>GPA: {{ student['gpa'] }}</p>
                        <p>Total credits: {{ student['total_credits'] }}</p>
                        <p>Balance: ${{ '%.2f'|format(student['balance'] or 0.0) }}</p>
                        <p>Last updated: {{ student['updated_at'] }}</p>
                    {% else %}
                        <p>No student record found.</p>
                    {% endif %}
                
                </body>
            </div>
            
            <div class="imgright">
                <h3>Recent activity</h3>
                {% if transactions %}
                    <ul>
                    {% for t in transactions %}
                        <li>[{{ t['timestamp'] }}] {{ t['actor_username'] }} - {{ t['action'] }} - {{ t['details'] }}</li>
                    {% endfor %}
                    </ul>
                {% else %}
                    <p>No recent activity.</p>
                {% endif %}
            </div>
            
            
            
        </div>

       <footer class="footer">
        <p> </p>
       </footer>
    </div>
    </body>
</html>